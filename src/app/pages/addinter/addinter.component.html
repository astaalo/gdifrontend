<div class="all-container">
  <div class="all">
    <div class="all1">
      <p class="ajouter">Ajouter</p>
        <div class="form" [formGroup]="interForm">
          <mat-horizontal-stepper [linear]="isLinear" #stepper labelPosition="bottom">
            <mat-step [stepControl]="interForm" >
              <ng-template matStepLabel>
                  <div class="head">
                    <div class="header" [style.background]="colors1()">
                        <p class="titre"> 1. Infos personnelles</p>
                    </div>
                </div>
              </ng-template>
              <div>
                  <form [formGroup]="interForm">
                    <div formGroupName="infopersonnel">
                      <p class="matri">Matricule: <span>{{matricule}}</span> </p>
                      <div class="grid">
                        <div class="photo">
                          <img class="image-upload" *ngIf="!url1==true" src="/assets/images/upload.png" alt="">
                          <img class="image-upload" [src]="url1" height="60" alt="">
                          <input formControlName="photo" class="buttonphoto1" type="file" (change)="getPhoto($event.target)">
                        </div>
                        <div class="others">
                          <div class="infoinput1">
                            <input type="text" formControlName="nCni" placeholder="Numero CNI">
                          </div>
                          <div class="infoinput1">
                            <input type="text" formControlName="nPassport" placeholder="Numero Passport">
                          </div>
                          <div class="infoinput2">
                            <input type="text" formControlName="prenom" placeholder="Prenom">
                            <input class="input3" type="text" formControlName="nom" placeholder="Nom">
                          </div>
                          <div class="infoinput1">
                            <input type="text" formControlName="mail" placeholder="Email">
                          </div>
                          <div class="infoinput1">
                            <input type="text" formControlName="adresse" placeholder="Adresse">
                          </div>
                          <div class="infoinput2">
                            <input type="text" formControlName="dateNaissance" placeholder="Date de Naissance">
                            <input class="input3" type="text" formControlName="lieuNaissance" placeholder="Lieu de Naissance">
                          </div>
                          <div class="infoinput2">
                            <input type="text" formControlName="sexe" placeholder="Genre">
                            <input class="input3" type="text" formControlName="sitmat" placeholder="Situation Matrimoniale">
                          </div>
                          <div class="infoinput2">
                            <input type="text" formControlName="diplome" placeholder="Diplome">
                            <input class="input3" type="text" formControlName="universite" placeholder="Université et Ecole">
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="buttons">
                      <button class="button1" type="button">Annuler</button>
                      <button class="button2" (click)="submitted1()" type="button" mat-button matStepperNext>Suivant</button>
                    </div>
                  </form>
              </div>
            </mat-step>

            <mat-step [stepControl]="interForm" >
              <ng-template matStepLabel>
                  <div class="head">
                      <div class="header" [style.background]="colors2()">
                          <p class="titre"> 2. Contrat</p>
                        </div>
                  </div> 
                </ng-template>
              <div>
                <form [formGroup]="interForm">
                  <div formGroupName="contrat">
                    <p class="matri">Matricule: <span>{{matricule}}</span> </p>
                    <div class="grid">
                      <div class="photo">
                        <img class="image-upload" *ngIf="!url2==true" src="/assets/images/upload.png" alt="">
                        <img class="image-upload" [src]="url2" height="60" alt="">
                        <input formControlName="filecontrat"  class="buttonphoto2" type="file" (change)="getPhoto($event.target)" >
                      </div>
                      <div class="others">
                        <div class="contratinput2">
                          <select class="select5" formControlName="type">
                            <option class="option" value="" disabled selected hidden>type de contrat</option>
                            <option *ngFor="let data of datas" value="data.id">{{data.libelle}}</option>
                          </select>
                          <select class="select6" formControlName="agenceId" placeholder="Agence d'interim">
                            <option class="option" value="" disabled selected hidden>Agence d'interim</option>
                            <option *ngFor="let data of dataAgence" value="data.id">{{data.nom}}</option>
                          </select>
                        </div>
                        <div class="contratinput2">
                          <input type="text" formControlName="dateDebut" placeholder="Date Début">
                          <input class="input3" type="text" formControlName="dateFin" placeholder="Date Fin">
                        </div> 
                        <div class="contratinput2">
                          <input type="text" formControlName="categorieId" placeholder="Catégorie">
                          <input class="input3" type="text" formControlName="salaireBrut" placeholder="Montant Salaire Brut">
                        </div>
                        <div class="contratinput2">
                          <select class="select5" #societe formControlName="structureId" (change)="directionsListe(societe.value)">
                            <option class="option" value="" disabled selected hidden>Societe</option>
                            <option *ngFor="let data of dataSociete" [value]="data.id">{{data.libelle}}</option>
                          </select>
                          <select class="select6" #direction  formControlName="direction" (change)="departementListe(direction.value)">
                            <option class="option" value="" disabled selected hidden>Direction</option>
                            <option *ngFor="let data of dataDirection" value="{{data.id}}">{{data.libelle}}</option>
                          </select>
                        </div>
                        <div class="contratinput2">
                          <select class="select5" #departement formControlName="departement" (change)="serviceListe(departement.value)">
                            <option class="option" value="" disabled selected hidden>Département</option>
                            <option *ngFor="let data of dataDepartement" value="{{data.id}}">{{data.libelle}}</option>
                          </select>
                          <select class="select6"  formControlName="service" >
                            <option class="option" value="" disabled selected hidden>Service</option>
                            <option *ngFor="let data of donneeService" value="{{data.id}}">{{data.libelle}}</option>
                          </select>
                        </div>
                    </div>
                    </div>
                  </div>
                  <button class="button1"  type="button" mat-button matStepperPrevious>Précédent</button>
                  <button class="button2" (click)="submitted2()" type="button"  mat-button matStepperNext>Suivant</button>
              </form>
              </div>
            </mat-step>

            <mat-step [stepControl]="interForm" label="Email" >
              <ng-template matStepLabel>
                  <div class="head">
                      <div class="header" [style.background]="colors3()">
                          <p class="titre"> 3. Poste</p>
                        </div>
                    </div>
                </ng-template>
              <div>
                <div *ngIf="!submited">
                  <form [formGroup]="interForm">
                    <div formGroupName="poste">
                      <div class="center">
                        <div class="posteinput2">
                          <input type="text" formControlName="profession" placeholder="Titre du Poste">
                          <select class="select7" formControlName="matricule">
                            <option class="option" value="" disabled selected hidden>Matricule manageur</option>
                            <option *ngFor="let som of sommes" [ngValue]="som">{{som}}</option>
                          </select>
                        </div>
                        <div class="fiche-et-pv">
                          <div class="photo">
                            <img class="image-upload" *ngIf="!url3==true" src="/assets/images/upload.png" alt="">
                            <img class="image-upload" [src]="url3" height="60" alt="">
                            <input formControlName="ficheposte" class="buttonphoto3" type="file" (change)="getPhoto($event.target)" >
                          </div>
                          <div class="photo">
                            <img class="image-upload" *ngIf="!url4==true" src="/assets/images/upload.png" alt="">
                            <img class="image-upload" [src]="url4" height="60" alt="">
                            <input formControlName="procesverbal" class="buttonphoto4" type="file" (change)="getPhoto($event.target)" >
                          </div>
                        </div>
                      </div>
                    </div>
                    <button class="button1" mat-button matStepperPrevious>Précédent</button>
                    <button class="button2" type="button" (click)="submit()" matSteppperNext>Enregistrer</button>
                </form>
                </div>
                <div class="message" *ngIf="submited" >
                  <div class="grid1">
                    <div class="image">
                      <img class="image-valide" src="../assets/images/valide.png" alt="">
                    </div>
                    <div class="text">
                      <p class="p1">
                        L’agent <span>Mouhamadou Lamine MBODJI</span>  a été ajouté avec succès à la liste des interimaires pour une durée de <span>7 mois</span>. <br> Une notification sera envoyée à <span>son manageur</span> et à l’<span>agence d’interim</span>.
                      </p>
                    </div>
                  </div>
                  <button class="button3" type="button" (click)="removeItem()" (click)="stepper.reset()">Ajouter un autre</button>
                  <button class="button4" (click)="removeItem()" routerLink="/accueil/souscontrat">Liste interimaires</button>
                  <button class="button5" (click)="removeItem()" routerLink="/accueil/homedrh">Tableau de bord</button>
                </div>
              </div>
            </mat-step>

          </mat-horizontal-stepper>
          <div [style.border-left]="getcolor1()" class="triangle1"></div>
          <div [style.border-left]="getcolor2()" class="triangle2"></div>
          <div [style.border-left]="getcolor3()" class="triangle3"></div>
        </div>
    </div>
</div>
<div class="aside">
  <div class="chiffre-aside" style="margin-left: auto;margin-right: 0;">
      <div class="elmt-aside" >
          <div href="">
              <p class="titre-aside">Présents</p>
              <br>
              <p class="nombre-aside">820</p>
          </div>
      </div>
      <div class="elmt1-aside" title="messages">
          <div href="">
              <p class="titre-aside">Malades</p>
              <br>
              <p class="nombre-aside">11</p>
          </div>
      </div>
      <div class="elmt2-aside" >
          <div href="">
              <p class="titre-aside">Congés</p>
              <br>
              <p class="nombre-aside">04</p>
          </div>
      </div>
  </div>
  
  
  <div class="interi-aside">
    <p class="dernier-aside">En fin de contrat</p>
    <div *ngFor="let p of datajson | slice:0:4; let i = index">
        <div class="list-aside">
            <div style="cursor: pointer;" class="grid-container-aside" [ngStyle]="{'border-bottom' : ((i > 2) ? 'none' : '1px solid #f5f6f9') }">
                <div  class="item4-aside" >
                    <img alt="" class="photo-aside" src="../assets/images/{{p.photo}}">
                </div>
                <div  class="item4-aside" >
                    <p class="prenom-aside"> {{p.prenom}} </p>
                    <p class="poste-aside"> {{p.poste}} </p>
                </div>
                <div  class="item4-aside"> 
                    <p class="tmp-aside" >{{p.dateFin | date: 'dd/MM/yyyy'}}</p> 
                </div>
            </div>
        </div>
    </div>
    <button  class="button-aside" routerLink="/accueil/newinter">Voir le liste</button>
  </div>
  
  <div class="annonce-aside">
      <p class="dernier-aside">Avis de recrutement</p>
      <div *ngFor="let p of datajson | slice:0:4; let i = index">
          <div class="list-aside">
              <div style="cursor: pointer;" class="grid-container1-aside" [ngStyle]="{'border-bottom' : ((i > 2) ? 'none' : '1px solid #f5f6f9') }">
                  <div  class="item4-aside" >
                      <p class="prenom-aside"> {{p.poste}} </p>
                      <div class="dep-aside">
                          <p class="serv-aside"> {{p.direction}}/ </p>
                          <p class="serv-aside"> {{p.pole}}/ </p>
                          <p class="serv-aside"> {{p.departement}}/ </p>
                          <p class="serv-aside"> {{p.service}} </p>
                      </div>
                  </div>
                  <div  class="item4-aside"> 
                      <p class="tmp1-aside" >{{p.dateFin | date: 'dd/MM/yyyy'}}</p> 
                  </div>
              </div>
          </div>
      </div>
      <button  class="button1-aside" routerLink="/accueil/offre">Voir le liste</button>
  </div>
</div>
</div>