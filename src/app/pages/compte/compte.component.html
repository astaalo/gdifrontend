<div class="all-container">
    <div class="compte">
        <p class="detail">Détails</p>
        <div class="progres">
            <p class="duree">Contrat <span>5 mois ( 35 jours</span> restant )</p>
            <div class="bar">
                <div id="progress_bar">
                    <div id="green_bar" [style.width]="getwidth()">&nbsp;</div>
                </div>
                <div class="position" [style.left]="getposition()">
                </div>
            </div>
            <div class="datedebutetfin">
                <p class="datedebut">12 Dec 2020</p>
                <p class="datefin">25 Aou 2021</p>
            </div>
        </div>
        <div class="grid-container" *ngFor="let d of data">
            <div class="image">
                <div class="ima">
                    <img class="image-interimaire" alt="" src="../assets/images/inter.png">
                    <div class="im1">
                        <img class="image-contact" src="../assets/images/phone.png" alt="">
                    </div>
                    <div class="im2">
                        <img class="image-contact" src="../assets/images/phone.png" alt="">
                    </div>
                    <p class="prenom">{{d.prenom}} {{d.nom}}</p>
                    <p class="fonction">{{d.poste}}</p>
                </div>
            </div>
            <div class="info">
                <div class="lot1">
                    <p class="key">Numéro CNI: <span class="value">{{d.cni}}</span> </p>
                    <p class="key">Date de naissance: <span class="value">{{d.dateNais}}</span> </p>
                    <p class="key">Lieu de naissance: <span class="value">{{d.lieuNais}}</span> </p>
                    <p class="key">Genre: <span class="value">{{d.genre}}</span> </p>
                </div>
                <div class="lot">
                    <p class="lot2">Catégorie: <span class="value">{{d.categorie}}</span> </p>
                    <p class="key">Agence Interim: <span class="value">{{d.agence}}</span> </p>
                    <p class="key">Structure: <span class="value">{{d.structure}}</span> </p>
                    <p class="key">Direction: <span class="value">{{d.direction}}</span> </p>
                    <p class="key">Département: <span class="value">{{d.departement}}</span> </p>
                    <p class="key">Service: <span class="value">{{d.service}}</span> </p>
                </div>
            </div>
        </div>
        <div class="lesbouton">
            <button  class="button1" (click)="openModal('custom-modal-1')">Contrat</button>
            <button  class="button2" (click)="openModal('custom-modal-2')">Attestations de présence</button>
            <button  class="button3" (click)="openModal('custom-modal-3')">Fiche de poste</button>
            <button  class="button4" (click)="openModal('custom-modal-4')">Objectifs</button>
        </div>
    </div>
    <div class="aside">
        
        <div class="annonce-aside" *ngFor="let d of data">
            <div class="manager-detail-aside">
                <p class="dernier-aside">Manager</p>
                <div class="manager-aside">
                <img src="../assets/images/manager.png" alt="">
                </div>
                <p class="nom-aside">{{d.manager}}</p>
                <p class="postem-aside">{{d.postem}}</p>
                <button  class="button-aside" routerLink="/accueil/manager">Afficher</button>
            </div>
        </div>
        <div class="annonce-aside">
            <p class="dernier-aside">Interimaires collaborateurs</p>
            <div *ngFor="let p of datas | slice:0:4; let i = index">
                <div class="list-aside">
                    <div style="cursor: pointer;" class="grid-container1-aside" [ngStyle]="{'border-bottom' : ((i > 2) ? 'none' : '1px solid #f5f6f9') }">
                        <div  class="item4-aside" >
                            <p class="prenom-aside"> {{p.prenom}} {{p.nom}}</p>
                            <div class="dep-aside">
                                <p class="serv-aside"> {{p.direction}}/ </p>
                                <p class="serv-aside"> {{p.pole}}/ </p>
                                <p class="serv-aside"> {{p.departement}}/ </p>
                                <p class="serv-aside"> {{p.service}} </p>
                            </div>
                        </div>
                        <div  class="item4-aside"> 
                            <p class="tmp1-aside" >{{p.dateFin | date: 'dd/MM/yyyy'}}</p> 
                        </div>
                    </div>
                </div>
            </div>
            <button  class="button1-aside" routerLink="/accueil/souscontrat">Voir +</button>
        </div>
    </div>
</div>
<!--modal1-->
<div class="modal">
    <jw-modal id="custom-modal-1">
        <div class="tableau" *ngFor="let item of data">
            <mat-icon style="cursor: pointer;" (click)="closeModal('custom-modal-1');" class="clear">clear</mat-icon>
            <p class="dtl1">contrat {{item.prenom}} {{item.nom}}</p>
            <ngx-doc-viewer 
               [url]="DemoDoc1" 
               [viewer]="viewer" 
               style="width:100%;height:70vh;">
            </ngx-doc-viewer>
            <div class="btns2">
                <button (click)="getfilemodal()"  class="btn2">Télécharger</button>
                <button   class="btn2a">Arrêter contrat</button>
            </div>
        </div>
    </jw-modal>
</div>

<!--modal2-->
<div class="modal">
    <jw-modal id="custom-modal-2">
        <div class="tableau">
            <mat-icon style="cursor: pointer;" (click)="closeModal('custom-modal-2');" class="clear">clear</mat-icon>
            <p class="dtl1">Liste des Attestions de présence</p>
            <div class="grid" *ngFor="let p of datas">
               <div>
                   <p class="date">{{p.dateFin | date: "M yyyy"}}</p>
               </div>
               <div>
                   <p class="user">{{p.prenom}} {{p.nom}}</p>
               </div>
               <div>
                <button (click)="get(p)"  class="btn1">Télécharger PDF</button>
               </div>
            </div>
        </div>
    </jw-modal>
</div>

<!--modal3-->
<div class="modal">
    <jw-modal id="custom-modal-3">
        <div class="tableau">
            <mat-icon style="cursor: pointer;" (click)="closeModal('custom-modal-3');" class="clear">clear</mat-icon>
            <p class="dtl1">Fiche de Poste Développeur web</p>
            <ngx-doc-viewer 
               [url]="DemoDoc1" 
               [viewer]="viewer" 
               style="width:100%;height:70vh;">
            </ngx-doc-viewer>
            <div class="btns3">
                <button (click)="getfilemodal()"  class="btn2">Télécharger</button>
            </div>
        </div>
    </jw-modal>
</div>

<!--modal4-->
<div class="modal">
    <jw-modal id="custom-modal-4">
        <div class="tableau">
            <mat-icon style="cursor: pointer;" (click)="closeModal('custom-modal-4');" class="clear">clear</mat-icon>
            <p class="listeo">Liste des objectifs du contrat</p>
            <div class="objet" *ngFor="let p of objetctis">
               <div>
                   <p class="title">{{p.title}}:</p>
                   <p class="libelle">{{p.libelle}}</p>
               </div>
            </div>
            <div class="btnso">
                <button  class="btno">Modifier</button>
            </div>
        </div>
    </jw-modal>
</div>