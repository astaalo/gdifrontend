<div class="all-container">
    <div class="all">
        <div class="">
            <p class="p1">Liste des Agences d’interim</p>
            <div class="liste">
                <div class="item" *ngFor="let p of datas | paginate: { itemsPerPage: 4, currentPage: p }; let i = index">
                    <div class="image">
                        <img src="../assets/images/{{p.agentimg}}" alt="">
                    </div>
                    <div class="info">
                        <p class="nom">{{p.agence}}</p>
                        <div class="user">
                            <mat-icon >person</mat-icon>
                            <p class="username">{{p.prenom}} {{p.nom}}</p>
                        </div>
                        <div class="contact">
                            <div class="phone">
                                <mat-icon >local_phone</mat-icon>
                                <p class="telephone">{{p.telephone}}</p>
                            </div>
                            <div class="mail">
                                <mat-icon >mail</mat-icon>
                                <p class="email">{{p.email}}</p>
                            </div>
                        </div>
                        <div class="adresse">
                            <mat-icon >room</mat-icon>
                            <p class="adres">{{p.adagen}}</p>
                        </div>
                    </div>
                    <div class="boutons">
                        <button class="button1" *ngIf="showupdate" (click)="openModal('custom-modal-'+p.id)">Modifier</button>
                        <button class="button2" (click)="openDetail(p)">Afficher</button>
                        <button class="button3" *ngIf="showupdate" (click)="openModal('custom-modale-'+p.id)">+ Utilisateurs</button>
                    </div>
    
                     <!--modal-1-->
                     <div class="modal">
                        <jw-modal id="custom-modal-{{p.id}}">
                            <h1>Modification</h1>
                            <mat-icon style="cursor: pointer;" (click)="closeModal('custom-modal-'+p.id);" class="clear">clear</mat-icon>
                            <div class="form">
                                <form [formGroup]="agenceForm">
                                    <div >
                                    <div class="grid">
                                        <div class="photo">
                                        <img alt="" *ngIf="!url1==true" src="../assets/images/{{p.agentimg}}">
                                        <img alt="" *ngIf="url1" [src]="url1" height="60">
                                        <input formControlName="photo" class="button" type="file" (change)="readUrl($event)" >
                                        </div>
                                        <div class="others">
                                            <div class="input1">
                                            <input type="text" [value]="p.agence" formControlName="nom" placeholder="Nom entreprise">
                                            </div>
                                            <div class="input2">
                                                <input type="text" [value]="p.manager" formControlName="directeur" placeholder="Nom Directeur Général">
                                                <input class="input3" [value]="p.telephone"  type="text" formControlName="numerodg" placeholder="Numéro DG">
                                            </div>
                                            <div class="input1">
                                                <input type="text" [value]="p.email"  formControlName="email" placeholder="Email">
                                            </div>
                                            <div class="input2">
                                                <input type="text" [value]="p.telephone" formControlName="mobile" placeholder="Numéro téléphone Mobile">
                                                <input class="input3" [value]="p.telephone"  type="text" formControlName="fixe" placeholder="Numéro Fixe">
                                            </div>
                                            <div class="input1">
                                                <input type="text" [value]="p.site" formControlName="website" placeholder="Site web">
                                            </div>
                                            <div class="input4">
                                                <textarea type="textarea" [value]="p.adagen" formControlName="adresse" placeholder="Adresse"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="trait"></div>
                                    <div class="boutons">
                                        <p class="p2">Documents Entreprise</p>
                                        <div class="buttons1">
                                            <input formControlName="contrat" class="button5" type="file" (change)="readUrl1($event)" >
                                            <input formControlName="cnidg" class="button6" type="file" (change)="readUrl1($event)" >
                                        </div>
                                    </div>
                                    <div class="buttons">
                                    <button class="buttonenregistrer" (click)="submitted1()" type="button">Valider</button>
                                    </div>
                                    </div>
                                </form>
                            </div>
                        </jw-modal>
                    </div>
                <!--modal-1-->
    
                <!--modal-2-->
                <div class="modal">
                    <jw-modal id="custom-modale-{{p.id}}">
                        <div class="grid2">
                            <div class="img">
                                <img src="../assets/images/{{p.agentimg}}" alt="">
                            </div>
                            <div class="agence">
                                <p class="nom2">{{p.agence}}</p>
                                <div class="nombre">
                                    <div class="total">
                                        <p class="title">Total</p>
                                        <p class="libelle">{{p.dateDebut | date: "Mdd"}}</p>
                                    </div>
                                    <div class="actif">
                                        <p class="title">Actifs</p>
                                        <p class="libelle">{{p.dateFin | date: "Mdd"}}</p>
                                    </div>
                                    <div class="archiv">
                                        <p class="title">Archivés</p>
                                        <p class="libelle">{{p.dateDebut | date: "Mdd"}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="trait"></div>
                        <h1>Ajouter nouvel utilisateur</h1>
                        <mat-icon style="cursor: pointer;" (click)="closeModal('custom-modale-'+p.id);" class="clear">clear</mat-icon>
                        <div class="formad">
                            <form [formGroup]="userForm">
                                <div >
                                <div class="gridad">
                                    <div class="photoad">
                                    <img alt="" class="imgad"  *ngIf="!url1==true" src="../assets/images/default.png">
                                    <img alt="" class="imgad" *ngIf="url1" [src]="url1" height="60">
                                    <input formControlName="photo" class="buttonad" type="file" (change)="readUrl($event)" >
                                    </div>
                                    <div class="othersad">
                                        <div class="input2ad">
                                            <input type="text" formControlName="prenom" placeholder="Prenom">
                                            <input class="input3ad"  type="text" formControlName="nom" placeholder="Nom">
                                        </div>
                                        <div class="input1ad">
                                            <input type="text"  formControlName="email" placeholder="Email">
                                        </div>
                                        <div class="input2ad">
                                            <input type="text" formControlName="telephone" placeholder="Téléphone">
                                            <input class="input3ad"  type="text" formControlName="profil" placeholder="Profil">
                                        </div>
                                    </div>
                                </div>
                                <div class="buttonsad">
                                   <button class="buttonenregistrerad" (click)="submitted2()" type="button">Ajouter</button>
                                </div>
                                </div>
                            </form>
                        </div>
                    </jw-modal>
                </div>
            <!--modal-2-->
                 </div>
                <pagination-controls (pageChange)="p = $event" previousLabel="Prcédent" nextLabel="Suivant"></pagination-controls>
            </div>
        </div>
    </div>
    <div class="aside">
        <div class="chiffre-aside" style="margin-left: auto;margin-right: 0;">
            <div class="elmt-aside" >
                <div href="">
                    <p class="titre-aside">Présents</p>
                    <br>
                    <p class="nombre-aside">820</p>
                </div>
            </div>
            <div class="elmt1-aside" title="messages">
                <div href="">
                    <p class="titre-aside">Malades</p>
                    <br>
                    <p class="nombre-aside">11</p>
                </div>
            </div>
            <div class="elmt2-aside" >
                <div href="">
                    <p class="titre-aside">Congés</p>
                    <br>
                    <p class="nombre-aside">04</p>
                </div>
            </div>
        </div>
        
        
        <div class="interi-aside">
            <p class="dernier-aside">En fin de contrat</p>
            <div *ngFor="let p of datas | slice:0:4; let i = index">
                <div class="list-aside">
                    <div style="cursor: pointer;" class="grid-container-aside" [ngStyle]="{'border-bottom' : ((i > 2) ? 'none' : '1px solid #f5f6f9') }">
                        <div  class="item4-aside" >
                            <img alt="" class="photo-aside" src="../assets/images/{{p.photo}}">
                        </div>
                        <div  class="item4-aside" >
                            <p class="prenom-aside"> {{p.prenom}} </p>
                            <p class="poste-aside"> {{p.poste}} </p>
                        </div>
                        <div  class="item4-aside"> 
                            <p class="tmp-aside" >{{p.dateFin | date: 'dd/MM/yyyy'}}</p> 
                        </div>
                    </div>
                </div>
            </div>
            <button  class="button-aside" routerLink="/accueil/newinter">Voir le liste</button>
        </div>
        
        <div class="annonce-aside">
            <p class="dernier-aside">Avis de recrutement</p>
            <div *ngFor="let p of datas | slice:0:4; let i = index">
                <div class="list-aside">
                    <div style="cursor: pointer;" class="grid-container1-aside" [ngStyle]="{'border-bottom' : ((i > 2) ? 'none' : '1px solid #f5f6f9') }">
                        <div  class="item4-aside" >
                            <p class="prenom-aside"> {{p.poste}} </p>
                            <div class="dep-aside">
                                <p class="serv-aside"> {{p.direction}}/ </p>
                                <p class="serv-aside"> {{p.pole}}/ </p>
                                <p class="serv-aside"> {{p.departement}}/ </p>
                                <p class="serv-aside"> {{p.service}} </p>
                            </div>
                        </div>
                        <div  class="item4-aside"> 
                            <p class="tmp1-aside" >{{p.dateFin | date: 'dd/MM/yyyy'}}</p> 
                        </div>
                    </div>
                </div>
            </div>
            <button  class="button1-aside" routerLink="/accueil/offre">Voir le liste</button>
        </div>
    </div>
        
</div>
